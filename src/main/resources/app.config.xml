<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
 http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd" xmlns:aop="http://www.springframework.org/schema/aop">
    
    <bean class="stockfortuneteller.app.Main">
        <property name="tasks" ref="dataSplitTasks" />
    </bean>
     
    <!-- =======================================================================
    == DATA GATHERING AND PREPROCESSING
    ======================================================================== -->
    <bean id="dataPreprocessTasks" class="java.util.ArrayList">
        <constructor-arg>
            <list>
                <ref bean="stockWekaSimpleKBuilder"/>          
            </list>
        </constructor-arg>
    </bean>
    
    <bean id="stockWekaBuilder" class="stockfortuneteller.data.StockWekaBuilder">
        <property name="arffFileName" value="src/main/resources/info.arff"/>
        <property name="csvResultFileName" value="src/main/resources/result"/>
        <property name="acuity" value="10.0"/>
        <property name="cutoff" value="0.00186"/>
        <property name="seed" value="80"/>
    </bean>

    <bean id="stockWekaSimpleKBuilder" class="stockfortuneteller.data.StockWekaSimpleKBuilder">
        <property name="arffFileName" value="src/main/resources/info.arff"/>
        <property name="csvResultFileName" value="src/main/resources/result"/>
        <property name="maxIterations" value="8000"/>
        <property name="numberOfClusters" value="400"/>
        <property name="seed" value="10"/>
    </bean>
    
    <bean id="stockWekaARFFBuilder" class="stockfortuneteller.data.StockWekaARFFBuilder">
        <property name="csvFileName" value="src/main/resources/info.csv"/>
        <property name="arffFileName" value="src/main/resources/info.arff"/>
    </bean>
    
    <bean id="stockStemmerCSVBuilder" class="stockfortuneteller.data.StockStemmerCSVBuilder">
        <property name="companies">
            <list>
                <bean id="company1" class="stockfortuneteller.data.Company">
                    <property name="name" value="LOTOS"/>
                    <property name="infoURL" value="http://www.money.pl/gielda/komunikaty/strona,457,,1.html"/>
                </bean> 
                 <bean id="company2" class="stockfortuneteller.data.Company">
                    <property name="name" value="PKN ORLEN SA"/>
                    <property name="infoURL" value="http://www.money.pl/gielda/komunikaty/strona,264,,1.html"/>
                </bean>   
                <bean id="company3" class="stockfortuneteller.data.Company">
                    <property name="name" value="PETROLINVEST SA"/>
                    <property name="infoURL" value="http://www.money.pl/gielda/komunikaty/strona,571,,1.html"/>
                </bean>  
                <bean id="company4" class="stockfortuneteller.data.Company">
                    <property name="name" value="MOL Magvar Olaj"/>
                    <property name="infoURL" value="http://www.money.pl/gielda/komunikaty/strona,441,,1.html"/>
                </bean>       
            </list>
        </property>
        <property name="forbiddenWords">
            <list>
                <value>MOL</value>
                <value>Magvar</value>
                <value>Olaj</value>
                <value>petrolinvest</value>
                <value>grupa</value>
                <value>lotos</value>
                <value>pkn</value>
                <value>orlen</value>
                <value>sa</value>
                <value>s.a.</value>
            </list>
        </property>
        <property name="fileName" value="src/main/resources/info.csv"/>
    </bean>
    
    <!-- =======================================================================
    == DATA SPLIT
    ======================================================================== -->
    <bean id="dataSplitTasks" class="java.util.ArrayList">
        <constructor-arg>
            <list>
                <ref bean="dataSplitter" />           
            </list>
        </constructor-arg>
    </bean>
    
    <bean id="dataSplitter" class="stockfortuneteller.evaluate.DataSetSplitter">
        <property name="dataDirectory" value="data/sequences"/>
        <property name="testDirectory" value="data/test"/>
        <property name="trainDirectory" value="data/train"/>
        <property name="sequencesSize" value="50"/>
        <property name="testRatio" value="0.2"/>
    </bean>
    
</beans>
